

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Benchmarking &mdash; Sparsify 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Integrate" href="06-integrate.html" />
    <link rel="prev" title="Optimize" href="05-optimize.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Sparsify
          

          
            
            <img src="../_static/icon-sparsify.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quicktour.html">Quick Tour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01-intro.html">Welcome to Sparsify</a></li>
<li class="toctree-l2"><a class="reference internal" href="02-install-sparsify.html">Installing and Launching Sparsify</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-sparsify-overview.html">Sparsify Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="04-analyze.html">Analyze</a></li>
<li class="toctree-l2"><a class="reference internal" href="04b-reviewing-performance-profiles.html">Reviewing Performance Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="04c-reviewing-loss-profiles.html">Reviewing Loss Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="05-optimize.html">Optimize</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Benchmarking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-the-benchmark-of-a-single-inference-engine">Running the Benchmark of a Single Inference Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-a-comparative-benchmark">Running a Comparative Benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="#re-running-a-benchmark">Re-Running a Benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="#removing-a-benchmark">Removing a Benchmark</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="06-integrate.html">Integrate</a></li>
<li class="toctree-l2"><a class="reference internal" href="06a-optimize-config.html">Optimization Config File and Code for Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="07-settings.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="08-key-terms.html">Key Concepts/Features/Terms</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/sparsify.html">sparsify package</a></li>
</ul>
<p class="caption"><span class="caption-text">Help</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neuralmagic/sparsify/issues">Bugs, Feature Requests</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neuralmagic/sparsify/discussions">Support, General Q&amp;A</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.neuralmagic.com">Neural Magic Docs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sparsify</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">User Guide</a> &raquo;</li>
        
      <li>Benchmarking</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/userguide/05a-benchmark.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!--
Copyright (c) 2021 - present / Neuralmagic, Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--><div class="section" id="benchmarking">
<h1>Benchmarking<a class="headerlink" href="#benchmarking" title="Permalink to this headline">¶</a></h1>
<p>You can benchmark the model to get measured (rather than estimated) values. After running a benchmark, you might want to change optimization values and run the new benchmark.</p>
<p>You can also use the benchmark to compare the results from two engines. This will enable you to determine which engine is appropriate for your business criteria.</p>
<p><strong>Note:</strong> If you have not yet run a benchmark, you can continue by doing so as described below. If you already ran a benchmark(s), it will be displayed.</p>
<div class="section" id="running-the-benchmark-of-a-single-inference-engine">
<h2>Running the Benchmark of a Single Inference Engine<a class="headerlink" href="#running-the-benchmark-of-a-single-inference-engine" title="Permalink to this headline">¶</a></h2>
<ol>
<li><p>Click <strong>ADD BENCHMARK</strong>.</p>
<p><kbd><img src="images/image_44.jpg" alt="(Create benchmark form)" width="380" height="250" /></kbd></p>
</li>
<li><p>Create a benchmark by indicating the inference engine to use for the benchmark, a benchmark that you want to compare to (optional, as described in <a class="reference external" href="#running-a-comparative-benchmark">Running a Comparative Benchmark</a>, optimization version (optional), core counts, and batch sizes.</p>
<p><strong>Note:</strong> Selecting the inference engine as ONNX Runtime CPU disables core count comparison.</p>
<p><strong>Note:</strong> You can select multiple core counts and/or batch sizes by checking the Enable Multiple option. For example:</p>
 <img src="images/image_45.jpg" alt="(Batch sizes selected)" width="380" height="250"></li>
<li><p>Click <strong>RUN</strong>.</p></li>
</ol>
<p>Using the specified engine, a benchmark is run for the batch size(s) and core count(s) that you selected.</p>
<p><kbd><img src="images/image_46.jpg" alt="(Running benchmark loading)" width="440" height="180" /></kbd></p>
<p>Then, the Metric information is displayed. Here is an example of a benchmark with three batch sizes and three core counts specified:</p>
<p><kbd><img src="images/image_47.jpg" alt="(Example metric information)" width="440" height="190" /></kbd></p>
<p>If you run a benchmark with multiple batch sizes and/or core counts, all of the scenarios are examined. You can display the resulting information based on the baseline, core scaling, or batch size scaling. Here is an example of baseline information:</p>
<p><kbd><img src="images/image_48.jpg" alt="(Baseline circled)" width="440" height="180" /></kbd></p>
<p>You can select the cores and/or batch size on the right to see different scenarios.</p>
<p>If you display based on core scaling, the information shows the average values at different core counts with a fixed batch size.</p>
<p><kbd><img src="images/image_49.jpg" alt="(Core scaling circled)" width="440" height="180" /></kbd></p>
<p>You can change the batch size with the drop-down on the right to see the different scenarios. For example:</p>
<p><kbd><img src="images/image_50.jpg" alt="(Batch size drop-down)" width="440" height="180" /></kbd></p>
<p>If you display based on batch size scaling, the information shows the average values at different batch sizes with a fixed core count.</p>
<p><kbd><img src="images/image_51.jpg" alt="(Batch size scaling circled)" width="440" height="180" /></kbd></p>
<p>You can change the core count with the drop-down on the right to see the different scenarios. For example:</p>
<p><kbd><img src="images/image_52.jpg" alt="(Core count drop-down)" width="440" height="180" /></kbd></p>
<p>As you add benchmarks, they are displayed starting with the most recent and sorted in chronological order. For example:</p>
<p><kbd><img src="images/image_53.jpg" alt="(Two benchmarks displayed)" width="370" height="300" /></kbd></p>
</div>
<div class="section" id="running-a-comparative-benchmark">
<h2>Running a Comparative Benchmark<a class="headerlink" href="#running-a-comparative-benchmark" title="Permalink to this headline">¶</a></h2>
<p>You can run a benchmark and indicate that you want to compare it to another, existing benchmark.</p>
<p><kbd><img src="images/image_54.jpg" alt="(Benchmark form with comparison enabled)" width="440" height="280" /></kbd></p>
<p>The benchmark shows a comparative graph.</p>
<p><kbd><img src="images/image_55.jpg" alt="(Comparative graph)" width="400" height="160" /></kbd></p>
<p>You can display based on either engine:</p>
<p><kbd><img src="images/image_56.jpg" alt="(Two engines circled)" width="400" height="160" /></kbd></p>
</div>
<div class="section" id="re-running-a-benchmark">
<h2>Re-Running a Benchmark<a class="headerlink" href="#re-running-a-benchmark" title="Permalink to this headline">¶</a></h2>
<p>You can re-run a specific benchmark using the same conditions used for the original run. This will create a new benchmark with the same settings.</p>
<p>Click the <kbd><img src="images/image_58.jpg" alt="(Menu icon)" width="4" height="15" /></kbd> menu button and then <strong>Re-run Benchmark</strong>.</p>
</div>
<div class="section" id="removing-a-benchmark">
<h2>Removing a Benchmark<a class="headerlink" href="#removing-a-benchmark" title="Permalink to this headline">¶</a></h2>
<p>Click the <kbd><img src="images/image_58.jpg" alt="(Menu icon)" width="4" height="15" /></kbd> menu button and then <strong>Remove</strong>.</p>
<hr class="docutils" />
<p><strong>Next step…</strong></p>
<p>Depending on the results of your benchmarks, you may want to <a class="reference internal" href="05-optimize.html"><span class="doc">Optimize</span></a> again or <a class="reference internal" href="06-integrate.html"><span class="doc">Integrate</span></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="06-integrate.html" class="btn btn-neutral float-right" title="Integrate" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="05-optimize.html" class="btn btn-neutral float-left" title="Optimize" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021 - present / Neuralmagic, Inc. All Rights Reserved. Licensed under the Apache License, Version 2.0 (the &#34;License&#34;).

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-128364174-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>