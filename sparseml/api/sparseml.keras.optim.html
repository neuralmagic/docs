

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>sparseml.keras.optim package &mdash; SparseML 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sparseml.keras.utils package" href="sparseml.keras.utils.html" />
    <link rel="prev" title="sparseml.keras package" href="sparseml.keras.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SparseML
          

          
            
            <img src="../_static/icon-sparseml.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quicktour.html">Quick Tour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recipes.html">Sparsification Recipes</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="sparseml.html">sparseml package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="sparseml.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="sparseml.keras.html">sparseml.keras package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="sparseml.keras.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="sparseml.keras.html#module-sparseml.keras">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sparseml.onnx.html">sparseml.onnx package</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparseml.optim.html">sparseml.optim package</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparseml.pytorch.html">sparseml.pytorch package</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparseml.tensorflow_v1.html">sparseml.tensorflow_v1 package</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparseml.utils.html">sparseml.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sparseml.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="sparseml.html#module-sparseml.log">sparseml.log module</a></li>
<li class="toctree-l2"><a class="reference internal" href="sparseml.html#module-sparseml">Module contents</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Help</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neuralmagic/sparseml/issues">Bugs, Feature Requests</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neuralmagic/sparseml/discussions">Support, General Q&amp;A</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.neuralmagic.com">Neural Magic Docs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SparseML</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="sparseml.html">sparseml package</a> &raquo;</li>
        
          <li><a href="sparseml.keras.html">sparseml.keras package</a> &raquo;</li>
        
      <li>sparseml.keras.optim package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/sparseml.keras.optim.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sparseml-keras-optim-package">
<h1>sparseml.keras.optim package<a class="headerlink" href="#sparseml-keras-optim-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-sparseml.keras.optim.manager">
<span id="sparseml-keras-optim-manager-module"></span><h2>sparseml.keras.optim.manager module<a class="headerlink" href="#module-sparseml.keras.optim.manager" title="Permalink to this headline">¶</a></h2>
<p>Contains base code related to modifier managers: modifier managers handle
grouping modifiers and running them together.
Also handles loading modifiers from yaml files</p>
<dl class="py class">
<dt id="sparseml.keras.optim.manager.ScheduledModifierManager">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.manager.</code><code class="sig-name descname">ScheduledModifierManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">modifiers</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#sparseml.keras.optim.modifier.ScheduledModifier" title="sparseml.keras.optim.modifier.ScheduledModifier">sparseml.keras.optim.modifier.ScheduledModifier</a><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/manager.html#ScheduledModifierManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.manager.ScheduledModifierManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="sparseml.optim.html#sparseml.optim.manager.BaseManager" title="sparseml.optim.manager.BaseManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.optim.manager.BaseManager</span></code></a>, <a class="reference internal" href="#sparseml.keras.optim.modifier.Modifier" title="sparseml.keras.optim.modifier.Modifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.modifier.Modifier</span></code></a></p>
<p>The base modifier manager, handles managing multiple ScheduledModifier.</p>
<dl class="py method">
<dt id="sparseml.keras.optim.manager.ScheduledModifierManager.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span><span class="p">:</span> <span class="n">tensorflow.python.keras.engine.training.Model</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/manager.html#ScheduledModifierManager.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.manager.ScheduledModifierManager.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove extra information related to the modifier from the model that is
not necessary for exporting</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model</strong> – a Keras model</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new Keras model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.manager.ScheduledModifierManager.from_yaml">
<em class="property">static </em><code class="sig-name descname">from_yaml</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>sparsezoo.objects.optimization_recipe.OptimizationRecipe<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">add_modifiers</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span><a class="reference internal" href="#sparseml.keras.optim.modifier.Modifier" title="sparseml.keras.optim.modifier.Modifier">sparseml.keras.optim.modifier.Modifier</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/manager.html#ScheduledModifierManager.from_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.manager.ScheduledModifierManager.from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function used to create the manager of multiple modifiers from a
recipe file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> – the path to the recipe file to load the modifier from, or
a SparseZoo model stub to load a recipe for a model stored in SparseZoo.
SparseZoo stubs should be preceded by ‘zoo:’, and can contain an optional
‘?recipe_type=&lt;type&gt;’ parameter. Can also be a SparseZoo OptimizationRecipe
object. i.e. ‘/path/to/local/recipe.yaml’, ‘zoo:model/stub/path’,
‘zoo:model/stub/path?recipe_type=transfer’</p></li>
<li><p><strong>add_modifiers</strong> – additional modifiers that should be added to the
returned manager alongside the ones loaded from the recipe file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ScheduledModifierManager() created from the recipe file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.manager.ScheduledModifierManager.modify">
<code class="sig-name descname">modify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span><span class="p">:</span> <span class="n">tensorflow.python.keras.engine.training.Model</span></em>, <em class="sig-param"><span class="n">optimizer</span><span class="p">:</span> <span class="n">tensorflow.python.keras.optimizer_v2.optimizer_v2.OptimizerV2</span></em>, <em class="sig-param"><span class="n">steps_per_epoch</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">loggers</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">input_tensors</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>tensorflow.python.framework.ops.Tensor<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/manager.html#ScheduledModifierManager.modify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.manager.ScheduledModifierManager.modify" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the model and optimizer based on the requirements of modifiers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – model to modify</p></li>
<li><p><strong>optimizer</strong> – optimizer to modify</p></li>
<li><p><strong>steps_per_epoch</strong> – number of steps per epoch</p></li>
<li><p><strong>loggers</strong> – list of loggers</p></li>
<li><p><strong>input_tensors</strong> – optional input tensor</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>model, optimizer, callbacks</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparseml.keras.optim.mask_pruning">
<span id="sparseml-keras-optim-mask-pruning-module"></span><h2>sparseml.keras.optim.mask_pruning module<a class="headerlink" href="#module-sparseml.keras.optim.mask_pruning" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.mask_pruning.</code><code class="sig-name descname">MaskedLayer</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#MaskedLayer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tensorflow.python.keras.layers.wrappers.Wrapper</span></code></p>
<p>Masked layer is a layer wrapping around another layer with a mask; the mask however
is shared if the enclosed layer is again of MaskedLayer type</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer</strong> – either a MaskedLayer or a keras layer</p></li>
<li><p><strong>pruning_scheduler</strong> – a pruning scheduler</p></li>
<li><p><strong>mask_creator</strong> – a mask creator</p></li>
<li><p><strong>kwargs</strong> – optional params for keras layer constructor, e.g. layer name</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.build">
<code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#MaskedLayer.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the variables of the layer (optional, for subclass implementers).</p>
<p>This is a method that implementers of subclasses of <cite>Layer</cite> or <cite>Model</cite>
can override if they need a state-creation step in-between
layer instantiation and layer call.</p>
<p>This is typically used to create the weights of <cite>Layer</cite> subclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_shape</strong> – Instance of <cite>TensorShape</cite>, or list of instances of
<cite>TensorShape</cite> if the layer expects a list of inputs
(one instance per input).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.call">
<code class="sig-name descname">call</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputs</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em>, <em class="sig-param"><span class="n">training</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#MaskedLayer.call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.call" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward function for calling layer instance as function</p>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.compute_output_shape">
<code class="sig-name descname">compute_output_shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#MaskedLayer.compute_output_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.compute_output_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the output shape of the layer.</p>
<p>If the layer has not been built, this method will call <cite>build</cite> on the
layer. This assumes that the layer will later be used with inputs that
match the input shape provided here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_shape</strong> – Shape tuple (tuple of integers)
or list of shape tuples (one per output tensor of the layer).
Shape tuples can include None for free dimensions,
instead of an integer.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An input shape tuple.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#MaskedLayer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a layer from its config.</p>
<p>This method is the reverse of <cite>get_config</cite>,
capable of instantiating the same layer from the config
dictionary. It does not handle layer connectivity
(handled by Network), nor weights (handled by <cite>set_weights</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – A Python dictionary, typically the
output of get_config.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A layer instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.get_config">
<code class="sig-name descname">get_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#MaskedLayer.get_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.get_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get layer config
Serialization and deserialization should be done using
tf.keras.serialize/deserialize, which create and retrieve the “class_name”
field automatically.
The resulting config below therefore does not contain the field.</p>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.global_step">
<em class="property">property </em><code class="sig-name descname">global_step</code><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.global_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.mask_updater">
<em class="property">property </em><code class="sig-name descname">mask_updater</code><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.mask_updater" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.masked_layer">
<em class="property">property </em><code class="sig-name descname">masked_layer</code><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.masked_layer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.masks">
<em class="property">property </em><code class="sig-name descname">masks</code><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.masks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.pruned_layer">
<em class="property">property </em><code class="sig-name descname">pruned_layer</code><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.pruned_layer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.MaskedLayer.pruning_vars">
<em class="property">property </em><code class="sig-name descname">pruning_vars</code><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.MaskedLayer.pruning_vars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.mask_pruning.PruningScheduler">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.mask_pruning.</code><code class="sig-name descname">PruningScheduler</code><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#PruningScheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.PruningScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Abstract pruning scheduler</p>
<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.PruningScheduler.deserialize">
<em class="property">classmethod </em><code class="sig-name descname">deserialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#PruningScheduler.deserialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.PruningScheduler.deserialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize a pruning scheduler from config returned by scheduler’s
get_config method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – a pruning scheduler’s config</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a pruning scheduler instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.PruningScheduler.get_config">
<em class="property">abstract </em><code class="sig-name descname">get_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#PruningScheduler.get_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.PruningScheduler.get_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.PruningScheduler.should_prune">
<em class="property">abstract </em><code class="sig-name descname">should_prune</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">step</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#PruningScheduler.should_prune"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.PruningScheduler.should_prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the given step is a right time for pruning</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>step</strong> – training step</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if pruning should take place; False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning.PruningScheduler.target_sparsity">
<em class="property">abstract </em><code class="sig-name descname">target_sparsity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">step</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#PruningScheduler.target_sparsity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.PruningScheduler.target_sparsity" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the target sparsity at the given step</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>step</strong> – training step</p></li>
<li><p><strong>kwargs</strong> – optional keyword params that a specific scheduler might need</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>target sparsity</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="sparseml.keras.optim.mask_pruning.remove_pruning_masks">
<code class="sig-prename descclassname">sparseml.keras.optim.mask_pruning.</code><code class="sig-name descname">remove_pruning_masks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span><span class="p">:</span> <span class="n">tensorflow.python.keras.engine.training.Model</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning.html#remove_pruning_masks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning.remove_pruning_masks" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove pruning masks from a model that was pruned using the MaskedLayer logic
:param model: a model that was pruned using MaskedLayer
:return: the original model with pruned weights</p>
</dd></dl>

</div>
<div class="section" id="module-sparseml.keras.optim.mask_pruning_creator">
<span id="sparseml-keras-optim-mask-pruning-creator-module"></span><h2>sparseml.keras.optim.mask_pruning_creator module<a class="headerlink" href="#module-sparseml.keras.optim.mask_pruning_creator" title="Permalink to this headline">¶</a></h2>
<p>Classes for defining sparsity masks based on model parameters.</p>
<dl class="py class">
<dt id="sparseml.keras.optim.mask_pruning_creator.BlockPruningMaskCreator">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.mask_pruning_creator.</code><code class="sig-name descname">BlockPruningMaskCreator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">block_shape</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">grouping_op_name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'mean'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#BlockPruningMaskCreator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.BlockPruningMaskCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator" title="sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator</span></code></a></p>
<p>Structured sparsity mask creator that groups the input tensor into blocks of
shape block_shape.
block_shape must divide the shape of any input tensor evenly and must have exactly
2 elements for the shape of in and out channels in the blocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>block_shape</strong> – The shape of blocks to strucure blocks of in and out channels
in the mask by.  -1 represents blocking along the entire dimension.</p>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning_creator.BlockPruningMaskCreator.group_tensor">
<code class="sig-name descname">group_tensor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tensor</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Tensor<a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#BlockPruningMaskCreator.group_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.BlockPruningMaskCreator.group_tensor" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tensor</strong> – The tensor to transform</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The absolute mean values of the tensor grouped by blocks of
shape self._block_shape</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.mask_pruning_creator.DimensionPruningMaskCreator">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.mask_pruning_creator.</code><code class="sig-name descname">DimensionPruningMaskCreator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">, </span>List<span class="p">[</span>int<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">grouping_op_name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'mean'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#DimensionPruningMaskCreator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.DimensionPruningMaskCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator" title="sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator</span></code></a></p>
<p>Structured sparsity mask creator that groups sparsity blocks by the given
dimension(s)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dim</strong> – The index or list of indices of dimensions to group the mask by or
the type of dims to prune ([‘channel’, ‘filter’])</p>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning_creator.DimensionPruningMaskCreator.group_tensor">
<code class="sig-name descname">group_tensor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tensor</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Tensor<a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#DimensionPruningMaskCreator.group_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.DimensionPruningMaskCreator.group_tensor" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tensor</strong> – The tensor to transform</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The absolute mean values of the tensor grouped by the
dimension(s) in self._dim</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.mask_pruning_creator.</code><code class="sig-name descname">GroupedPruningMaskCreator</code><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#GroupedPruningMaskCreator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.mask_pruning_creator.UnstructuredPruningMaskCreator" title="sparseml.keras.optim.mask_pruning_creator.UnstructuredPruningMaskCreator"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.mask_pruning_creator.UnstructuredPruningMaskCreator</span></code></a></p>
<p>Abstract class for a sparsity mask creator that structures masks according to
grouping functions.  Subclasses should implement group_tensor and
_map_mask_to_tensor</p>
<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator.create_sparsity_mask">
<code class="sig-name descname">create_sparsity_mask</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tensor</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em>, <em class="sig-param"><span class="n">sparsity</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Tensor<a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#GroupedPruningMaskCreator.create_sparsity_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator.create_sparsity_mask" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tensor</strong> – A tensor of a model layer’s weights</p></li>
<li><p><strong>sparsity</strong> – the target sparsity to use for assigning the masks</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A sparsity mask close to the set sparsity based on the values of
the input tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator.get_grouping_op">
<em class="property">static </em><code class="sig-name descname">get_grouping_op</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grouping_op_name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Operation<a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#GroupedPruningMaskCreator.get_grouping_op"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator.get_grouping_op" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>grouping_op_name</strong> – name of grouping operation to get tf operation for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tf operation for grouping_op_name if available, raises error otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator.get_mask_initializer">
<code class="sig-name descname">get_mask_initializer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tensor</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em><span class="sig-paren">)</span> &#x2192; Callable<span class="p">[</span>tensorflow.python.framework.ops.Tensor<span class="p">]</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#GroupedPruningMaskCreator.get_mask_initializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator.get_mask_initializer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tensor</strong> – A tensor of a model layer’s weights</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tensor initializer function for this sparsity mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator.group_tensor">
<em class="property">abstract </em><code class="sig-name descname">group_tensor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tensor</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Tensor<a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#GroupedPruningMaskCreator.group_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.GroupedPruningMaskCreator.group_tensor" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tensor</strong> – The tensor to reduce in groups</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The grouped tensor</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.mask_pruning_creator.</code><code class="sig-name descname">PruningMaskCreator</code><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#PruningMaskCreator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Base abstract class for a sparsity mask creator.
Subclasses should define all methods for creating masks and their initializers</p>
<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator.create_sparsity_mask">
<em class="property">abstract </em><code class="sig-name descname">create_sparsity_mask</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tensor</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em>, <em class="sig-param"><span class="n">sparsity</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Tensor<a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#PruningMaskCreator.create_sparsity_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator.create_sparsity_mask" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tensor</strong> – A tensor of a model layer’s weights</p></li>
<li><p><strong>sparsity</strong> – the target sparsity to use for assigning the masks</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A sparsity mask close to the set sparsity based on the values of
the input tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator.get_mask_initializer">
<em class="property">abstract </em><code class="sig-name descname">get_mask_initializer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tensor</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em><span class="sig-paren">)</span> &#x2192; Callable<span class="p">[</span>tensorflow.python.framework.ops.Tensor<span class="p">]</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#PruningMaskCreator.get_mask_initializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator.get_mask_initializer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tensor</strong> – A tensor of a model layer’s weights</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tensor initializer function for this sparsity mask</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.mask_pruning_creator.UnstructuredPruningMaskCreator">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.mask_pruning_creator.</code><code class="sig-name descname">UnstructuredPruningMaskCreator</code><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#UnstructuredPruningMaskCreator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.UnstructuredPruningMaskCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator" title="sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator</span></code></a></p>
<p>Class for creating unstructured sparsity masks.
Masks will be created using unstructured sparsity by pruning weights ranked
by their magnitude.</p>
<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning_creator.UnstructuredPruningMaskCreator.create_sparsity_mask">
<code class="sig-name descname">create_sparsity_mask</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tensor</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em>, <em class="sig-param"><span class="n">sparsity</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Tensor<a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#UnstructuredPruningMaskCreator.create_sparsity_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.UnstructuredPruningMaskCreator.create_sparsity_mask" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tensor</strong> – A tensor of a model layer’s weights</p></li>
<li><p><strong>sparsity</strong> – the target sparsity to use for assigning the masks</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A sparsity mask close to the set sparsity based on the values of
the input tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.mask_pruning_creator.UnstructuredPruningMaskCreator.get_mask_initializer">
<code class="sig-name descname">get_mask_initializer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tensor</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em><span class="sig-paren">)</span> &#x2192; Callable<span class="p">[</span>tensorflow.python.framework.ops.Tensor<span class="p">]</span><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#UnstructuredPruningMaskCreator.get_mask_initializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.UnstructuredPruningMaskCreator.get_mask_initializer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tensor</strong> – A tensor of a model layer’s weights</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Initializer for tensor where an element is 1.0 for nonzero weights
and zero for all other weights</p>
</dd>
<dt class="field-odd">Raise</dt>
<dd class="field-odd"><p>ValueError If the dtype is not numeric or boolean</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="sparseml.keras.optim.mask_pruning_creator.load_mask_creator">
<code class="sig-prename descclassname">sparseml.keras.optim.mask_pruning_creator.</code><code class="sig-name descname">load_mask_creator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>Iterable<span class="p">[</span>int<span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator" title="sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator">sparseml.keras.optim.mask_pruning_creator.PruningMaskCreator</a><a class="reference internal" href="../_modules/sparseml/keras/optim/mask_pruning_creator.html#load_mask_creator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.mask_pruning_creator.load_mask_creator" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> – Formatted string or iterable of block_shape specifying
SparsityMaskCreator object to return</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SparsityMaskCreator object created from obj</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sparseml.keras.optim.modifier">
<span id="sparseml-keras-optim-modifier-module"></span><h2>sparseml.keras.optim.modifier module<a class="headerlink" href="#module-sparseml.keras.optim.modifier" title="Permalink to this headline">¶</a></h2>
<p>Contains base code related to modifiers: objects that modify some aspect
of the training process for a model.
For example, learning rate schedules or kernel sparsity (weight pruning)
are implemented as modifiers.</p>
<dl class="py class">
<dt id="sparseml.keras.optim.modifier.KerasModifierYAML">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier.</code><code class="sig-name descname">KerasModifierYAML</code><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier.html#KerasModifierYAML"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.KerasModifierYAML" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="sparseml.optim.html#sparseml.optim.modifier.ModifierYAML" title="sparseml.optim.modifier.ModifierYAML"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.optim.modifier.ModifierYAML</span></code></a></p>
<p>A decorator to handle making a Keras modifier class YAML ready.
IE it can be loaded in through the yaml plugin easily.</p>
</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.modifier.Modifier">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier.</code><code class="sig-name descname">Modifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log_types</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier.html#Modifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.Modifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="sparseml.optim.html#sparseml.optim.modifier.BaseModifier" title="sparseml.optim.modifier.BaseModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.optim.modifier.BaseModifier</span></code></a></p>
<p>Base modifier class that all Keras modifiers should derive themselves from.
Handles setting up the expected contracts for modifying model and optimizer</p>
<div class="line-block">
<div class="line">Modifiers are expected to implement the following functions for Keras:</div>
<div class="line-block">
<div class="line">- modify - modify model and optimizer</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_types</strong> – the loggers that can be used by the modifier instance</p></li>
<li><p><strong>kwargs</strong> – standard key word args, used to support multi inheritance</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.modifier.Modifier.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span><span class="p">:</span> <span class="n">tensorflow.python.keras.engine.training.Model</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier.html#Modifier.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.Modifier.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove extra information related to the modifier from the model that is
not necessary for exporting</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model</strong> – a Keras model</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new Keras model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier.Modifier.load_list">
<em class="property">static </em><code class="sig-name descname">load_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">yaml_str</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier.html#Modifier.load_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.Modifier.load_list" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>yaml_str</strong> – a string representation of the yaml syntax to
load modifiers from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the loaded modifiers list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier.Modifier.load_obj">
<em class="property">static </em><code class="sig-name descname">load_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">yaml_str</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier.html#Modifier.load_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.Modifier.load_obj" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>yaml_str</strong> – a string representation of the yaml syntax to
load a modifier from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the loaded modifier object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier.Modifier.modify">
<code class="sig-name descname">modify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">optimizer</span></em>, <em class="sig-param"><span class="n">steps_per_epoch</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">loggers</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">input_tensors</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>tensorflow.python.framework.ops.Tensor<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier.html#Modifier.modify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.Modifier.modify" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify model, optimizer based on the logic of the modifier. Return the modified
model, optimizer and a list of callbacks (e.g., to enhance training process)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – model to modify</p></li>
<li><p><strong>optimizer</strong> – optimizer to modify</p></li>
<li><p><strong>steps_per_epoch</strong> – number of steps per epoch</p></li>
<li><p><strong>input_tensors</strong> – optional input tensor</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>model, optimizer, callbacks</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.modifier.ModifierProp">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier.</code><code class="sig-name descname">ModifierProp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">serializable</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">restrict_initialized</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">restrict_enabled</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">restrict_extras</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">no_serialize_val</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">func_get</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">func_set</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">doc</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/optim/modifier.html#ModifierProp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.ModifierProp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="sparseml.optim.html#sparseml.optim.modifier.BaseProp" title="sparseml.optim.modifier.BaseProp"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.optim.modifier.BaseProp</span></code></a></p>
<p>Property used to decorate a modifier.
Use for creating getters and setters in a modifier.
Handles making sure props cannot be changed after a certain point;
ex after initialized.
Also, marks the properties so they can be easily collected and serialized later.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>serializable</strong> – True if the property should be serialized (ex in yaml),
False otherwise. Default True</p></li>
<li><p><strong>restrict_initialized</strong> – True to keep the property from being set after
initialized, False otherwise. Default True</p></li>
<li><p><strong>restrict_enabled</strong> – True to keep the property from being set after enabled,
False otherwise. Default False</p></li>
<li><p><strong>restrict_extras</strong> – extra attributes to check, if any are truthy then keep
from being set. Default None</p></li>
<li><p><strong>no_serialize_val</strong> – If prop is equal to this value, will not serialize the prop</p></li>
<li><p><strong>func_get</strong> – The function getter</p></li>
<li><p><strong>func_set</strong> – The function setter</p></li>
<li><p><strong>doc</strong> – The docs function</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.modifier.ModifierProp.getter">
<code class="sig-name descname">getter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func_get</span><span class="p">:</span> <span class="n">Callable</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="sparseml.optim.html#sparseml.optim.modifier.BaseProp" title="sparseml.optim.modifier.BaseProp">sparseml.optim.modifier.BaseProp</a><a class="reference internal" href="../_modules/sparseml/optim/modifier.html#ModifierProp.getter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.ModifierProp.getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a ModifierProp based off the current instance with the getter function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func_get</strong> – the getter function</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the recreated instance with the new getter function</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier.ModifierProp.no_serialize_val">
<em class="property">property </em><code class="sig-name descname">no_serialize_val</code><a class="headerlink" href="#sparseml.keras.optim.modifier.ModifierProp.no_serialize_val" title="Permalink to this definition">¶</a></dt>
<dd><p>a value that if the prop is equal to, will not serialize the prop</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier.ModifierProp.restrictions">
<em class="property">property </em><code class="sig-name descname">restrictions</code><a class="headerlink" href="#sparseml.keras.optim.modifier.ModifierProp.restrictions" title="Permalink to this definition">¶</a></dt>
<dd><p>The attributes to check for restricting when the attribute can be set</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier.ModifierProp.serializable">
<em class="property">property </em><code class="sig-name descname">serializable</code><a class="headerlink" href="#sparseml.keras.optim.modifier.ModifierProp.serializable" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the property should be serialized (ex in yaml), False otherwise</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier.ModifierProp.setter">
<code class="sig-name descname">setter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func_set</span><span class="p">:</span> <span class="n">Callable</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="sparseml.optim.html#sparseml.optim.modifier.BaseProp" title="sparseml.optim.modifier.BaseProp">sparseml.optim.modifier.BaseProp</a><a class="reference internal" href="../_modules/sparseml/optim/modifier.html#ModifierProp.setter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.ModifierProp.setter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a ModifierProp based off the current instance with the setter function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func_set</strong> – the setter function</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the recreated instance with the new setter function</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.modifier.ScheduledModifier">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier.</code><code class="sig-name descname">ScheduledModifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log_types</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">start_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">end_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">min_start</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">min_end</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">end_comparator</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier.html#ScheduledModifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.ScheduledModifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.modifier.Modifier" title="sparseml.keras.optim.modifier.Modifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.modifier.Modifier</span></code></a>, <a class="reference internal" href="sparseml.optim.html#sparseml.optim.modifier.BaseScheduled" title="sparseml.optim.modifier.BaseScheduled"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.optim.modifier.BaseScheduled</span></code></a></p>
<p>The base scheduled update modifier implementation, all scheduled modifiers should
inherit from this class.
Offers convenient properties needed for scheduled update modifiers:
start_epoch, end_epoch</p>
<div class="line-block">
<div class="line">Modifiers are expected to implement the following functions for Keras:</div>
<div class="line-block">
<div class="line">- modify - modify model and optimizer</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_types</strong> – the loggers that can be used by the modifier instance</p></li>
<li><p><strong>start_epoch</strong> – The epoch to start the modifier at</p></li>
<li><p><strong>end_epoch</strong> – The epoch to end the modifier at</p></li>
<li><p><strong>min_start</strong> – The minimum acceptable value for start_epoch, default -1</p></li>
<li><p><strong>min_end</strong> – The minimum acceptable value for end_epoch, default 0</p></li>
<li><p><strong>end_comparator</strong> – integer value representing how the end_epoch should be
compared to start_epoch.
if == None, then end_epoch can only be set to what its initial value was.
if == -1, then end_epoch can be less than, equal, or greater than start_epoch.
if == 0, then end_epoch can be equal to or greater than start_epoch.
if == 1, then end_epoch can only be greater than start_epoch.</p></li>
<li><p><strong>kwargs</strong> – standard key word args, used to support multi inheritance</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.modifier.ScheduledModifier.end_epoch">
<em class="property">property </em><code class="sig-name descname">end_epoch</code><a class="headerlink" href="#sparseml.keras.optim.modifier.ScheduledModifier.end_epoch" title="Permalink to this definition">¶</a></dt>
<dd><p>The epoch to end the modifier at
(set to -1.0 so it never ends)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier.ScheduledModifier.start_end_steps">
<code class="sig-name descname">start_end_steps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">steps_per_epoch</span></em>, <em class="sig-param"><span class="n">after_optim</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier.html#ScheduledModifier.start_end_steps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.ScheduledModifier.start_end_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the start and end steps for this modifier given a certain
amount of steps per epoch</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>steps_per_epoch</strong> – the number of steps (or batches) taken per epoch</p></li>
<li><p><strong>after_optim</strong> – True if the start and end are for an operation after
the optimizer update step has run, False for before</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tuple containing (the converted start step,
the converted end step)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier.ScheduledModifier.start_epoch">
<em class="property">property </em><code class="sig-name descname">start_epoch</code><a class="headerlink" href="#sparseml.keras.optim.modifier.ScheduledModifier.start_epoch" title="Permalink to this definition">¶</a></dt>
<dd><p>The epoch to start the modifier at
(set to -1.0 so it starts immediately)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.modifier.ScheduledUpdateModifier">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier.</code><code class="sig-name descname">ScheduledUpdateModifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log_types</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">start_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">end_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">min_start</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">min_end</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">end_comparator</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">update_frequency</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">min_frequency</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier.html#ScheduledUpdateModifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.ScheduledUpdateModifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.modifier.ScheduledModifier" title="sparseml.keras.optim.modifier.ScheduledModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.modifier.ScheduledModifier</span></code></a>, <a class="reference internal" href="sparseml.optim.html#sparseml.optim.modifier.BaseUpdate" title="sparseml.optim.modifier.BaseUpdate"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.optim.modifier.BaseUpdate</span></code></a></p>
<p>The base scheduled update modifier implementation,
all scheduled update modifiers should inherit from this class.
Offers convenient properties needed for scheduled update modifiers: update_frequency</p>
<div class="line-block">
<div class="line">Modifiers are expected to implement the following functions for Keras:</div>
<div class="line-block">
<div class="line">- modify - modify model and optimizer</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_types</strong> – the loggers that can be used by the modifier instance</p></li>
<li><p><strong>start_epoch</strong> – The epoch to start the modifier at</p></li>
<li><p><strong>end_epoch</strong> – The epoch to end the modifier at</p></li>
<li><p><strong>min_start</strong> – The minimum acceptable value for start_epoch, default -1</p></li>
<li><p><strong>min_end</strong> – The minimum acceptable value for end_epoch, default 0</p></li>
<li><p><strong>end_comparator</strong> – integer value representing how the end_epoch should be
compared to start_epoch.
if == -1, then end_epoch can be less than, equal, or greater than start_epoch.
if == 0, then end_epoch can be equal to or greater than start_epoch.
if == 1, then end_epoch can only be greater than start_epoch.</p></li>
<li><p><strong>update_frequency</strong> – The number of epochs or fraction of epochs to
update at between start and end</p></li>
<li><p><strong>min_frequency</strong> – The minimum acceptable value for update_frequency, default -1</p></li>
<li><p><strong>kwargs</strong> – standard key word args, used to support multi inheritance</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.modifier.ScheduledUpdateModifier.update_frequency_steps">
<code class="sig-name descname">update_frequency_steps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">steps_per_epoch</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="../_modules/sparseml/keras/optim/modifier.html#ScheduledUpdateModifier.update_frequency_steps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier.ScheduledUpdateModifier.update_frequency_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the update frequency steps for this modifier given a certain
amount of steps per epoch</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>steps_per_epoch</strong> – the number of steps (or batches) taken per epoch</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tuple containing (the converted start step,
the converted end step)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparseml.keras.optim.modifier_epoch">
<span id="sparseml-keras-optim-modifier-epoch-module"></span><h2>sparseml.keras.optim.modifier_epoch module<a class="headerlink" href="#module-sparseml.keras.optim.modifier_epoch" title="Permalink to this headline">¶</a></h2>
<p>Contains code for epoch modifiers in Keras</p>
<dl class="py class">
<dt id="sparseml.keras.optim.modifier_epoch.EpochRangeModifier">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier_epoch.</code><code class="sig-name descname">EpochRangeModifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_epoch</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">end_epoch</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_epoch.html#EpochRangeModifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_epoch.EpochRangeModifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.modifier.ScheduledModifier" title="sparseml.keras.optim.modifier.ScheduledModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.modifier.ScheduledModifier</span></code></a></p>
<p>Simple modifier to set the range of epochs to train over for
the recalibration process.
Note, that if other modifiers exceed the range of this one for min or max epochs,
this modifier will not have an effect.</p>
<div class="line-block">
<div class="line">Sample yaml:</div>
<div class="line-block">
<div class="line">!EpochRangeModifier:</div>
<div class="line-block">
<div class="line">start_epoch: 0</div>
<div class="line">end_epoch: 90</div>
</div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="module-sparseml.keras.optim.modifier_lr">
<span id="sparseml-keras-optim-modifier-lr-module"></span><h2>sparseml.keras.optim.modifier_lr module<a class="headerlink" href="#module-sparseml.keras.optim.modifier_lr" title="Permalink to this headline">¶</a></h2>
<p>Learning rate modifiers for Keras models</p>
<dl class="py class">
<dt id="sparseml.keras.optim.modifier_lr.LearningRateModifier">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier_lr.</code><code class="sig-name descname">LearningRateModifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lr_class</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">lr_kwargs</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">init_lr</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">start_epoch</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">end_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">update_frequency</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">log_types</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'__ALL__'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_lr.html#LearningRateModifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_lr.LearningRateModifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.modifier.ScheduledUpdateModifier" title="sparseml.keras.optim.modifier.ScheduledUpdateModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.modifier.ScheduledUpdateModifier</span></code></a>, <a class="reference internal" href="sparseml.optim.html#sparseml.optim.learning_rate.LearningRate" title="sparseml.optim.learning_rate.LearningRate"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.optim.learning_rate.LearningRate</span></code></a></p>
<p>Modifier to set the learning rate to follow specific schedulers
within a period of epochs.
The following schedulers are current supported: ExponentialLR,
StepLR, MultiStepLR</p>
<div class="line-block">
<div class="line">Sample yaml:</div>
<div class="line-block">
<div class="line">!LearningRateModifier</div>
<div class="line-block">
<div class="line">lr_class: ExponentialDecay</div>
<div class="line">lr_kwargs:</div>
<div class="line-block">
<div class="line">initial_learning_rate: 0.01</div>
<div class="line">decay_steps: 10000</div>
<div class="line">decay_rate: 0.96</div>
</div>
<div class="line">start_epoch: 0.0</div>
<div class="line">end_epoch: 10.0</div>
<div class="line">log_types: __ALL__</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lr_class</strong> – The name of the lr scheduler class to use:
[StepLR, MultiStepLR, ExponentialLR]</p></li>
<li><p><strong>lr_kwargs</strong> – The dictionary of keyword arguments to pass to the constructor
for the lr_class</p></li>
<li><p><strong>init_lr</strong> – The initial learning rate to use once this modifier starts</p></li>
<li><p><strong>start_epoch</strong> – The epoch to start the modifier at
(set to -1.0 so it starts immediately)</p></li>
<li><p><strong>end_epoch</strong> – The epoch to end the modifier at,
(set to -1.0 so it doesn’t end)</p></li>
<li><p><strong>update_frequency</strong> – unused and should not be set</p></li>
<li><p><strong>log_types</strong> – The loggers to allow the learning rate to be logged to,
default is __ALL__</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.modifier_lr.LearningRateModifier.modify">
<code class="sig-name descname">modify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">optimizer</span></em>, <em class="sig-param"><span class="n">steps_per_epoch</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">loggers</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">input_tensors</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>tensorflow.python.framework.ops.Tensor<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_lr.html#LearningRateModifier.modify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_lr.LearningRateModifier.modify" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify model and optimizer, and provide callbacks to process the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – a model to be modified with prunable layers wrapped by masks</p></li>
<li><p><strong>optimizer</strong> – an optimizer to be modified</p></li>
<li><p><strong>steps_per_epoch</strong> – number of steps per epoch</p></li>
<li><p><strong>loggers</strong> – list of loggers</p></li>
<li><p><strong>input_tensors</strong> – optional input tensors</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modified model, optimizer and callbacks</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.modifier_lr.SetLearningRateModifier">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier_lr.</code><code class="sig-name descname">SetLearningRateModifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">learning_rate</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">start_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">end_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">log_types</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'__ALL__'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_lr.html#SetLearningRateModifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_lr.SetLearningRateModifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.modifier.ScheduledModifier" title="sparseml.keras.optim.modifier.ScheduledModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.modifier.ScheduledModifier</span></code></a>, <a class="reference internal" href="sparseml.optim.html#sparseml.optim.learning_rate.SetLearningRate" title="sparseml.optim.learning_rate.SetLearningRate"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.optim.learning_rate.SetLearningRate</span></code></a></p>
<p>Modifier to set the learning rate to a specific value at a certain point
in the training process. Once that point is reached, will update the optimizer’s
params with the learning rate</p>
<div class="line-block">
<div class="line">Sample yaml:</div>
<div class="line-block">
<div class="line">!SetLearningRateModifier</div>
<div class="line-block">
<div class="line">start_epoch: 0.0</div>
<div class="line">learning_rate: 0.001</div>
<div class="line">log_types: __ALL__</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>learning_rate</strong> – The learning rate to use once this modifier starts</p></li>
<li><p><strong>start_epoch</strong> – The epoch to start the modifier at</p></li>
<li><p><strong>end_epoch</strong> – unused and should not be set</p></li>
<li><p><strong>log_types</strong> – The loggers to allow the learning rate to be logged to,
default is __ALL__</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.modifier_lr.SetLearningRateModifier.modify">
<code class="sig-name descname">modify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">optimizer</span></em>, <em class="sig-param"><span class="n">steps_per_epoch</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">loggers</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">input_tensors</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>tensorflow.python.framework.ops.Tensor<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_lr.html#SetLearningRateModifier.modify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_lr.SetLearningRateModifier.modify" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify model and optimizer, and provide callbacks to process the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – a model to be modified with prunable layers wrapped by masks</p></li>
<li><p><strong>optimizer</strong> – an optimizer to be modified</p></li>
<li><p><strong>steps_per_epoch</strong> – number of steps per epoch</p></li>
<li><p><strong>loggers</strong> – list of loggers</p></li>
<li><p><strong>input_tensors</strong> – optional input tensors</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modified model, optimizer and callbacks</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparseml.keras.optim.modifier_params">
<span id="sparseml-keras-optim-modifier-params-module"></span><h2>sparseml.keras.optim.modifier_params module<a class="headerlink" href="#module-sparseml.keras.optim.modifier_params" title="Permalink to this headline">¶</a></h2>
<p>Modifier for changing the state of a modules params while training according to
certain update formulas or patterns.</p>
<dl class="py class">
<dt id="sparseml.keras.optim.modifier_params.TrainableParamsModifier">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier_params.</code><code class="sig-name descname">TrainableParamsModifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">trainable</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="n">params_strict</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">start_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em>, <em class="sig-param"><span class="n">end_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_params.html#TrainableParamsModifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_params.TrainableParamsModifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.modifier.ScheduledModifier" title="sparseml.keras.optim.modifier.ScheduledModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.modifier.ScheduledModifier</span></code></a></p>
<p>Modifier to control the params for a given list of parameters.
Applies the trainability over all epochs.
To select all params in the graph, set to the ALL_TOKEN string: __ALL__</p>
<div class="line-block">
<div class="line">Sample yaml:</div>
<div class="line-block">
<div class="line">!TrainableParamsModifier:</div>
<div class="line-block">
<div class="line">params: [“conv2d_1/kernel:0”, “conv2d_5/kernel:0”]</div>
<div class="line">trainable: True</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> – A list of full parameter names or regex patterns of names to apply
pruning to.  Regex patterns must be specified with the prefix ‘re:’. __ALL__
will match to all parameters. Can also use the token __ALL__ to specify all
params</p></li>
<li><p><strong>trainable</strong> – True if the param(s) should be made trainable,
False to make them non-trainable</p></li>
<li><p><strong>params_strict</strong> – True if the given param(s) must be found in each layer and
will raise an err if not found,
False if missing params are ok and will not raise an err</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.modifier_params.TrainableParamsModifier.layer_names">
<em class="property">property </em><code class="sig-name descname">layer_names</code><a class="headerlink" href="#sparseml.keras.optim.modifier_params.TrainableParamsModifier.layer_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_params.TrainableParamsModifier.modify">
<code class="sig-name descname">modify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">optimizer</span></em>, <em class="sig-param"><span class="n">steps_per_epoch</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">input_tensors</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>tensorflow.python.framework.ops.Tensor<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_params.html#TrainableParamsModifier.modify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_params.TrainableParamsModifier.modify" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify model, optimizer based on the logic of the modifier. Return the modified
model, optimizer and a list of callbacks (e.g., to enhance training process)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – model to modify</p></li>
<li><p><strong>optimizer</strong> – optimizer to modify</p></li>
<li><p><strong>steps_per_epoch</strong> – number of steps per epoch</p></li>
<li><p><strong>input_tensors</strong> – optional input tensor</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>model, optimizer, callbacks</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_params.TrainableParamsModifier.params">
<code class="sig-name descname">params</code><a class="headerlink" href="#sparseml.keras.optim.modifier_params.TrainableParamsModifier.params" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of full parameter names or regex patterns of names to apply
pruning to.  Regex patterns must be specified with the prefix ‘re:’. __ALL__
will match to all parameters. Can also use the token __ALL__ to specify all
params</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_params.TrainableParamsModifier.params_strict">
<code class="sig-name descname">params_strict</code><a class="headerlink" href="#sparseml.keras.optim.modifier_params.TrainableParamsModifier.params_strict" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the given param(s) must be found in each layer and
will raise an err if not found,
False if missing params are ok and will not raise an err</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_params.TrainableParamsModifier.trainable">
<code class="sig-name descname">trainable</code><a class="headerlink" href="#sparseml.keras.optim.modifier_params.TrainableParamsModifier.trainable" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the param(s) should be made trainable,
False to make them non-trainable</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_params.TrainableParamsModifier.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_params.html#TrainableParamsModifier.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_params.TrainableParamsModifier.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the values of the params for the current instance are valid</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparseml.keras.optim.modifier_pruning">
<span id="sparseml-keras-optim-modifier-pruning-module"></span><h2>sparseml.keras.optim.modifier_pruning module<a class="headerlink" href="#module-sparseml.keras.optim.modifier_pruning" title="Permalink to this headline">¶</a></h2>
<p>Modifiers for inducing / enforcing kernel sparsity (model pruning)
on models while pruning.</p>
<dl class="py class">
<dt id="sparseml.keras.optim.modifier_pruning.ConstantPruningModifier">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier_pruning.</code><code class="sig-name descname">ConstantPruningModifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">start_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">end_epoch</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">log_types</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'__ALL__'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_pruning.html#ConstantPruningModifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.ConstantPruningModifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.modifier.ScheduledModifier" title="sparseml.keras.optim.modifier.ScheduledModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.modifier.ScheduledModifier</span></code></a></p>
<p>Holds the sparsity level and shape for a given param constant while training.
Useful for transfer learning use cases.</p>
<div class="line-block">
<div class="line">Sample yaml:</div>
<div class="line-block">
<div class="line">!ConstantPruningModifier</div>
<div class="line-block">
<div class="line">params: __ALL__</div>
<div class="line">start_epoch: 0.0</div>
<div class="line">end_epoch: 10.0</div>
<div class="line">log_types: __ALL__</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> – List of str names or regex patterns of names for the parameter
variables to apply the KS modifier to. Regex patterns must be specified
with the prefix ‘re:’. Can also use the token __ALL__ to specify all
prunable layers and weights</p></li>
<li><p><strong>start_epoch</strong> – The epoch to start the modifier at</p></li>
<li><p><strong>end_epoch</strong> – The epoch to end the modifier at</p></li>
<li><p><strong>log_types</strong> – The loggers to allow the learning rate to be logged to,
default is __ALL__</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span><span class="p">:</span> <span class="n">tensorflow.python.keras.engine.training.Model</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_pruning.html#ConstantPruningModifier.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove extra information related to the modifier from the model that is
not necessary for exporting</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model</strong> – a Keras model</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new Keras model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.is_pruning_step">
<code class="sig-name descname">is_pruning_step</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">step</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">steps_per_epoch</span></em>, <em class="sig-param"><span class="n">tensor</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_pruning.html#ConstantPruningModifier.is_pruning_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.is_pruning_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.layer_names">
<em class="property">property </em><code class="sig-name descname">layer_names</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.layer_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.modify">
<code class="sig-name descname">modify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">optimizer</span></em>, <em class="sig-param"><span class="n">steps_per_epoch</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">loggers</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">input_tensors</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>tensorflow.python.framework.ops.Tensor<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_pruning.html#ConstantPruningModifier.modify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.modify" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify model and optimizer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – a model to be modified</p></li>
<li><p><strong>optimizer</strong> – an optimizer to be modified</p></li>
<li><p><strong>steps_per_epoch</strong> – number of steps per epoch</p></li>
<li><p><strong>loggers</strong> – list of loggers</p></li>
<li><p><strong>input_tensors</strong> – optional input tensors</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modified model, optimizer and callbacks</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.params">
<code class="sig-name descname">params</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.params" title="Permalink to this definition">¶</a></dt>
<dd><p>List of str for the variable names or regex patterns of names
to apply the KS modifier to. Regex patterns must be specified with
the prefix ‘re:’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.sparsity">
<em class="property">property </em><code class="sig-name descname">sparsity</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.sparsity" title="Permalink to this definition">¶</a></dt>
<dd><p>the created sparsity tensor for setting the pruning ops
if create_ops has been called, else None</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.update_ready">
<em class="property">property </em><code class="sig-name descname">update_ready</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.ConstantPruningModifier.update_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>the created update_ready tensor for setting the pruning ops
if create_ops has been called, else None</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier">
<em class="property">class </em><code class="sig-prename descclassname">sparseml.keras.optim.modifier_pruning.</code><code class="sig-name descname">GMPruningModifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">init_sparsity</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">final_sparsity</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">start_epoch</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">end_epoch</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">update_frequency</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">inter_func</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'cubic'</span></em>, <em class="sig-param"><span class="n">log_types</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'__ALL__'</span></em>, <em class="sig-param"><span class="n">mask_type</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'unstructured'</span></em>, <em class="sig-param"><span class="n">leave_enabled</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_pruning.html#GMPruningModifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparseml.keras.optim.modifier.ScheduledUpdateModifier" title="sparseml.keras.optim.modifier.ScheduledUpdateModifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparseml.keras.optim.modifier.ScheduledUpdateModifier</span></code></a></p>
<p>Gradually applies kernel sparsity to a given variable or variables from
init_sparsity until final_sparsity is reached over a given amount of time and
applied with an interpolated function for each step taken.</p>
<p>Applies based on magnitude pruning without any structure to the pruning.</p>
<div class="line-block">
<div class="line">Sample yaml:</div>
<div class="line-block">
<div class="line">!GMPruningModifier</div>
<div class="line-block">
<div class="line">params: __ALL__</div>
<div class="line">init_sparsity: 0.05</div>
<div class="line">final_sparsity: 0.8</div>
<div class="line">start_epoch: 0.0</div>
<div class="line">end_epoch: 10.0</div>
<div class="line">update_frequency: 1.0</div>
<div class="line">inter_func: cubic</div>
<div class="line">log_types: __ALL__</div>
<div class="line">mask_type: unstructured</div>
<div class="line">leave_enabled: True</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> – List of str names or name regex patterns for the variables in the
graph to apply the KS modifier to.  Regex patterns must be specified with
the prefix ‘re:’.  __ALL__ will match to all parameters.</p></li>
<li><p><strong>init_sparsity</strong> – The initial sparsity for the variable to
start with at start_epoch</p></li>
<li><p><strong>final_sparsity</strong> – The final sparsity for the variable to end with at end_epoch</p></li>
<li><p><strong>start_epoch</strong> – The epoch to start the modifier at</p></li>
<li><p><strong>end_epoch</strong> – The epoch to end the modifier at</p></li>
<li><p><strong>update_frequency</strong> – The number of epochs or fraction of epochs to
update at between start and end</p></li>
<li><p><strong>leave_enabled</strong> – True to continue masking the weights after end_epoch,
False to stop masking. Should be set to False if exporting the result
immediately after or doing some other prune</p></li>
<li><p><strong>inter_func</strong> – The type of interpolation function to use:
[linear, cubic, inverse_cubic]</p></li>
<li><p><strong>log_types</strong> – The loggers to allow the learning rate to be logged to,
default is __ALL__</p></li>
<li><p><strong>mask_type</strong> – String to define type of sparsity (options: [‘unstructured’,
‘channel’, ‘filter’]), List to define block shape of a parameter’s in and out
channels. default is ‘unstructured’</p></li>
<li><p><strong>leave_enabled</strong> – True to continue masking the weights after end_epoch,
False to stop masking. Should be set to False if exporting the result
immediately after or doing some other prune</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.exponent">
<code class="sig-name descname">exponent</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.exponent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.final_sparsity">
<code class="sig-name descname">final_sparsity</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.final_sparsity" title="Permalink to this definition">¶</a></dt>
<dd><p>The final sparsity for the variable to end with at end_epoch</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span><span class="p">:</span> <span class="n">tensorflow.python.keras.engine.training.Model</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_pruning.html#GMPruningModifier.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove extra information related to the modifier from the model that is
not necessary for exporting</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model</strong> – a Keras model</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new Keras model</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.init_sparsity">
<code class="sig-name descname">init_sparsity</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.init_sparsity" title="Permalink to this definition">¶</a></dt>
<dd><p>The initial sparsity for the variable to start with at start_epoch</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.inter_func">
<code class="sig-name descname">inter_func</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.inter_func" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of interpolation function to use:
[linear, cubic, inverse_cubic]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.layer_names">
<em class="property">property </em><code class="sig-name descname">layer_names</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.layer_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.leave_enabled">
<code class="sig-name descname">leave_enabled</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.leave_enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>True to continue masking the weights after end_epoch,
False to stop masking. Note, if set as False, sparsity will not be enforced
and the model will likely deviate from the sparse solution</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.mask_type">
<code class="sig-name descname">mask_type</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.mask_type" title="Permalink to this definition">¶</a></dt>
<dd><p>the mask type used</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.modify">
<code class="sig-name descname">modify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">optimizer</span></em>, <em class="sig-param"><span class="n">steps_per_epoch</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">loggers</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="sparseml.keras.utils.html#sparseml.keras.utils.logger.KerasLogger" title="sparseml.keras.utils.logger.KerasLogger">sparseml.keras.utils.logger.KerasLogger</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">input_tensors</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>tensorflow.python.framework.ops.Tensor<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_pruning.html#GMPruningModifier.modify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.modify" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify model and optimizer, and provide callbacks to process the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – a model to be modified with prunable layers wrapped by masks</p></li>
<li><p><strong>optimizer</strong> – an optimizer to be modified; in this case, no change to it</p></li>
<li><p><strong>steps_per_epoch</strong> – number of steps per epoch</p></li>
<li><p><strong>loggers</strong> – list of loggers</p></li>
<li><p><strong>input_tensors</strong> – optional input tensors</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>modified model, optimizer and callbacks</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.params">
<code class="sig-name descname">params</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.params" title="Permalink to this definition">¶</a></dt>
<dd><p>List of str for the variable names or regex patterns of names
to apply the KS modifier to. Regex patterns must be specified with
the prefix ‘re:’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.prunable_layers">
<em class="property">property </em><code class="sig-name descname">prunable_layers</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.prunable_layers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.sparsity">
<em class="property">property </em><code class="sig-name descname">sparsity</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.sparsity" title="Permalink to this definition">¶</a></dt>
<dd><p>the created sparsity tensor for setting the pruning ops
if create_ops has been called, else None</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.update_ready">
<em class="property">property </em><code class="sig-name descname">update_ready</code><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.update_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>the created update_ready tensor for setting the pruning ops
if create_ops has been called, else None</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparseml.keras.optim.modifier_pruning.GMPruningModifier.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/modifier_pruning.html#GMPruningModifier.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.modifier_pruning.GMPruningModifier.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the values of the params for the current instance are valid</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparseml.keras.optim.utils">
<span id="sparseml-keras-optim-utils-module"></span><h2>sparseml.keras.optim.utils module<a class="headerlink" href="#module-sparseml.keras.optim.utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="sparseml.keras.optim.utils.get_layer_name_from_param">
<code class="sig-prename descclassname">sparseml.keras.optim.utils.</code><code class="sig-name descname">get_layer_name_from_param</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">param</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sparseml/keras/optim/utils.html#get_layer_name_from_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparseml.keras.optim.utils.get_layer_name_from_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-sparseml.keras.optim">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-sparseml.keras.optim" title="Permalink to this headline">¶</a></h2>
<p>Recalibration code for the TensorFlow framework.
Handles things like model pruning and increasing activation sparsity.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="sparseml.keras.utils.html" class="btn btn-neutral float-right" title="sparseml.keras.utils package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="sparseml.keras.html" class="btn btn-neutral float-left" title="sparseml.keras package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021 - present / Neuralmagic, Inc. All Rights Reserved. Licensed under the Apache License, Version 2.0 (the &#34;License&#34;).

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-128364174-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>