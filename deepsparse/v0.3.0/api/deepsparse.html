

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>deepsparse package &mdash; DeepSparse 0.3.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/nm-theme-adjustment.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="deepsparse.utils package" href="deepsparse.utils.html" />
    <link rel="prev" title="Example Log, Verbose Level = diagnose" href="../debugging-optimizing/example-log.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> DeepSparse
          

          
            
            <img src="../_static/icon-deepsparse.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../source/quicktour.html">Quick Tour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/hardware.html">Hardware Support</a></li>
</ul>
<p class="caption"><span class="caption-text">Performance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../debugging-optimizing/index.html">Debugging and Optimizing</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">deepsparse package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="deepsparse.utils.html">deepsparse.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-deepsparse.benchmark">deepsparse.benchmark module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-deepsparse.cpu">deepsparse.cpu module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-deepsparse.engine">deepsparse.engine module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deepsparse-generated-version-module">deepsparse.generated-version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">deepsparse.generated_version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-deepsparse.lib">deepsparse.lib module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-deepsparse.version">deepsparse.version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-deepsparse">Module contents</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Help</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neuralmagic/deepsparse/issues">Bugs, Feature Requests</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neuralmagic/deepsparse/discussions">Support, General Q&amp;A</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.neuralmagic.com">Neural Magic Docs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DeepSparse</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>deepsparse package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/deepsparse.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="deepsparse-package">
<h1>deepsparse package<a class="headerlink" href="#deepsparse-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="deepsparse.utils.html">deepsparse.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.utils.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.utils.html#module-deepsparse.utils.data">deepsparse.utils.data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.utils.html#module-deepsparse.utils.log">deepsparse.utils.log module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.utils.html#module-deepsparse.utils.onnx">deepsparse.utils.onnx module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepsparse.utils.html#module-deepsparse.utils">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-deepsparse.benchmark">
<span id="deepsparse-benchmark-module"></span><h2>deepsparse.benchmark module<a class="headerlink" href="#module-deepsparse.benchmark" title="Permalink to this headline">¶</a></h2>
<p>Code related to benchmarking batched inference runs</p>
<dl class="py class">
<dt id="deepsparse.benchmark.BatchBenchmarkResult">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">deepsparse.benchmark.</span></code><code class="sig-name descname"><span class="pre">BatchBenchmarkResult</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_start</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_end</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extras</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/benchmark.html#BatchBenchmarkResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A benchmark result for a batched inference run</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_start</strong> – The system time when the run for the batch was started</p></li>
<li><p><strong>time_end</strong> – The system time when the run for the batch ended</p></li>
<li><p><strong>batch_size</strong> – The size of the batch that was benchmarked</p></li>
<li><p><strong>inputs</strong> – Optional batch inputs that were given for the run</p></li>
<li><p><strong>outputs</strong> – Optional batch outputs that were given for the run</p></li>
<li><p><strong>extras</strong> – Optional batch extras to store any other data for the run</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.batch_size">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">batch_size</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the batch that was benchmarked</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.batches_per_second">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">batches_per_second</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.batches_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of batches that could be run in one second
based on this result</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.extras">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">extras</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Batch extras to store any other data for the run</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.inputs">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">inputs</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Batch inputs that were given for the run, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.items_per_second">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">items_per_second</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.items_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of items that could be run in one second
based on this result</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.ms_per_batch">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">ms_per_batch</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.ms_per_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of milliseconds it took to run the batch</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.ms_per_item">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">ms_per_item</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.ms_per_item" title="Permalink to this definition">¶</a></dt>
<dd><p>The averaged number of milliseconds it took to run each item
in the batch</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.outputs">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">outputs</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Batch outputs that were given for the run, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.time_elapsed">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">time_elapsed</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.time_elapsed" title="Permalink to this definition">¶</a></dt>
<dd><p>The time elapsed for the entire run (end - start)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.time_end">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">time_end</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.time_end" title="Permalink to this definition">¶</a></dt>
<dd><p>The system time when the run for the batch ended</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BatchBenchmarkResult.time_start">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">time_start</span></code><a class="headerlink" href="#deepsparse.benchmark.BatchBenchmarkResult.time_start" title="Permalink to this definition">¶</a></dt>
<dd><p>The system time when the run for the batch was started</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepsparse.benchmark.BenchmarkResults">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">deepsparse.benchmark.</span></code><code class="sig-name descname"><span class="pre">BenchmarkResults</span></code><a class="reference internal" href="../_modules/deepsparse/benchmark.html#BenchmarkResults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></p>
<p>The benchmark results for a list of batched inference runs</p>
<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.append_batch">
<code class="sig-name descname"><span class="pre">append_batch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_start</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_end</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extras</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/benchmark.html#BenchmarkResults.append_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.append_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a recorded batch to the current results</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_start</strong> – The system time when the run for the batch was started</p></li>
<li><p><strong>time_end</strong> – The system time when the run for the batch ended</p></li>
<li><p><strong>batch_size</strong> – The size of the batch that was benchmarked</p></li>
<li><p><strong>inputs</strong> – Optional batch inputs that were given for the run</p></li>
<li><p><strong>outputs</strong> – Optional batch outputs that were given for the run</p></li>
<li><p><strong>extras</strong> – Optional batch extras to store any other data for the run</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.batch_sizes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">batch_sizes</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.batch_sizes" title="Permalink to this definition">¶</a></dt>
<dd><p>the list of all batch run sizes that have been added</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.batch_times">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">batch_times</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.batch_times" title="Permalink to this definition">¶</a></dt>
<dd><p>the list of all batch run times that have been added</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.batch_times_mean">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">batch_times_mean</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.batch_times_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>the mean of all the batch run times that have been added</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.batch_times_median">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">batch_times_median</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.batch_times_median" title="Permalink to this definition">¶</a></dt>
<dd><p>the median of all the batch run times that have been added</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.batch_times_std">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">batch_times_std</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.batch_times_std" title="Permalink to this definition">¶</a></dt>
<dd><p>the standard deviation of all the batch run times that have been added</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.batches_per_second">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">batches_per_second</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.batches_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of batches that could be run in one second
based on this result</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.inputs">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">inputs</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Batch inputs that were given for the run, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.items_per_second">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">items_per_second</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.items_per_second" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of items that could be run in one second
based on this result</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.ms_per_batch">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">ms_per_batch</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.ms_per_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of milliseconds it took to run the batch</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.ms_per_item">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">ms_per_item</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.ms_per_item" title="Permalink to this definition">¶</a></dt>
<dd><p>The averaged number of milliseconds it took to run each item
in the batch</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.num_batches">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">num_batches</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.num_batches" title="Permalink to this definition">¶</a></dt>
<dd><p>the number of batches that have been added</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.num_items">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">num_items</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.num_items" title="Permalink to this definition">¶</a></dt>
<dd><p>the number of items across all batches that have been added</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.outputs">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">outputs</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Batch outputs that were given for the run, if any</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.benchmark.BenchmarkResults.results">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">results</span></code><a class="headerlink" href="#deepsparse.benchmark.BenchmarkResults.results" title="Permalink to this definition">¶</a></dt>
<dd><p>the list of recorded batch results</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepsparse.cpu">
<span id="deepsparse-cpu-module"></span><h2>deepsparse.cpu module<a class="headerlink" href="#module-deepsparse.cpu" title="Permalink to this headline">¶</a></h2>
<p>Functionality for detecting the details of the currently available cpu</p>
<dl class="py class">
<dt id="deepsparse.cpu.architecture">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">deepsparse.cpu.</span></code><code class="sig-name descname"><span class="pre">architecture</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/cpu.html#architecture"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.cpu.architecture" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>A class containing all the architecture details for the current CPU.</p>
<dl class="simple">
<dt>Members include (but are not limited to):</dt><dd><p>vendor                     - a string name of vendor)
isa                        - a string containing avx2, avx512 or unknown)
vnni                       - a boolean indicating VNNI support)
num_sockets                - integer number of physical sockets
available_sockets          - integer number of sockets available for use
cores_per_socket           - integer number of physical cores per socket
available_cores_per_socket - integer number of available cores per socket
threads_per_core           - integer physical number of threads per core
available_threads_per_core - integer available number of threads per core
L1_instruction_cache_size  - L1 instruction cache size in bytes
L1_data_cache_size         - L1 data cache size in bytes
L2_cache_size              - L2 cache size in bytes
L3_cache_size              - L3 cache size in bytes</p>
</dd>
</dl>
<dl class="py method">
<dt id="deepsparse.cpu.architecture.num_physical_cores">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">num_physical_cores</span></code><a class="headerlink" href="#deepsparse.cpu.architecture.num_physical_cores" title="Permalink to this definition">¶</a></dt>
<dd><p>the totla number of cores available on the current machine</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.cpu.architecture.num_threads">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">num_threads</span></code><a class="headerlink" href="#deepsparse.cpu.architecture.num_threads" title="Permalink to this definition">¶</a></dt>
<dd><p>the total number of hyperthreads available on the current machine</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.cpu.architecture.override_isa">
<code class="sig-name descname"><span class="pre">override_isa</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/cpu.html#architecture.override_isa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.cpu.architecture.override_isa" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the isa to the desired value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – the value to update the isa to</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.cpu.architecture.threads_per_socket">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">threads_per_socket</span></code><a class="headerlink" href="#deepsparse.cpu.architecture.threads_per_socket" title="Permalink to this definition">¶</a></dt>
<dd><p>the number of hyperthreads available per socket on the current machine</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="deepsparse.cpu.cpu_architecture">
<code class="sig-prename descclassname"><span class="pre">deepsparse.cpu.</span></code><code class="sig-name descname"><span class="pre">cpu_architecture</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#deepsparse.cpu.architecture" title="deepsparse.cpu.architecture"><span class="pre">deepsparse.cpu.architecture</span></a><a class="reference internal" href="../_modules/deepsparse/cpu.html#cpu_architecture"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.cpu.cpu_architecture" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect the CPU details on linux systems
If any other OS is used, an exception will be raised.</p>
<dl class="simple">
<dt>Specifically:</dt><dd><ul class="simple">
<li><p>the number of physical cores available per socket on the system</p></li>
<li><p>detects the vector instruction set available (avx2, avx512)</p></li>
<li><p>if vnni is available</p></li>
</ul>
</dd>
</dl>
<p>NM_ARCH environment variable can be used to override the avx instruction
set detection</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an instance of the architecture class</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepsparse.cpu.cpu_avx2_compatible">
<code class="sig-prename descclassname"><span class="pre">deepsparse.cpu.</span></code><code class="sig-name descname"><span class="pre">cpu_avx2_compatible</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="reference internal" href="../_modules/deepsparse/cpu.html#cpu_avx2_compatible"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.cpu.cpu_avx2_compatible" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the current cpu has the AVX2 or AVX512 instruction sets,
used for running neural networks performantly
(if AVX2 only then less performant compared to strictly AVX512)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepsparse.cpu.cpu_avx512_compatible">
<code class="sig-prename descclassname"><span class="pre">deepsparse.cpu.</span></code><code class="sig-name descname"><span class="pre">cpu_avx512_compatible</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="reference internal" href="../_modules/deepsparse/cpu.html#cpu_avx512_compatible"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.cpu.cpu_avx512_compatible" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the current cpu has the AVX512 instruction set,
used for running neural networks performantly</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepsparse.cpu.cpu_details">
<code class="sig-prename descclassname"><span class="pre">deepsparse.cpu.</span></code><code class="sig-name descname"><span class="pre">cpu_details</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/cpu.html#cpu_details"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.cpu.cpu_details" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect the CPU details on linux systems
If any other OS is used, will raise an exception</p>
<dl class="simple">
<dt>Specifically:</dt><dd><ul class="simple">
<li><p>the number of physical cores available per socket on the system</p></li>
<li><p>detects the vector instruction set available (avx2, avx512)</p></li>
<li><p>if vnni is available</p></li>
</ul>
</dd>
</dl>
<p>NM_ARCH environment variable can be used to override the avx instruction
set detection</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a tuple containing the detected cpu information
(number of physical cores per socket, avx instruction set, vnni support)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepsparse.cpu.cpu_vnni_compatible">
<code class="sig-prename descclassname"><span class="pre">deepsparse.cpu.</span></code><code class="sig-name descname"><span class="pre">cpu_vnni_compatible</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="reference internal" href="../_modules/deepsparse/cpu.html#cpu_vnni_compatible"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.cpu.cpu_vnni_compatible" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the current cpu has the VNNI instruction set,
used for running int8 quantized networks performantly.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-deepsparse.engine">
<span id="deepsparse-engine-module"></span><h2>deepsparse.engine module<a class="headerlink" href="#module-deepsparse.engine" title="Permalink to this headline">¶</a></h2>
<p>Code related to interfacing with a Neural Network in the DeepSparse Engine using python</p>
<dl class="py class">
<dt id="deepsparse.engine.Engine">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">deepsparse.engine.</span></code><code class="sig-name descname"><span class="pre">Engine</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">sparsezoo.objects.model.Model</span><span class="p"><span class="pre">,</span> </span><span class="pre">sparsezoo.objects.file.File</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cores</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sockets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#deepsparse.engine.Scheduler" title="deepsparse.engine.Scheduler"><span class="pre">deepsparse.engine.Scheduler</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/engine.html#Engine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.Engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a new DeepSparse Engine that compiles the given onnx file
for GPU class performance on commodity CPUs.</p>
<p>Note 1: Engines are compiled for a specific batch size and
for a specific number of CPU cores.</p>
<div class="line-block">
<div class="line">Example:</div>
<div class="line-block">
<div class="line"># create an engine for batch size 1 on all available cores</div>
<div class="line">engine = Engine(“path/to/onnx”, batch_size=1, num_cores=None)</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – Either a path to the model’s onnx file, a SparseZoo model stub
prefixed by ‘zoo:’, a SparseZoo Model object, or a SparseZoo ONNX File
object that defines the neural network</p></li>
<li><p><strong>batch_size</strong> – The batch size of the inputs to be used with the engine</p></li>
<li><p><strong>num_cores</strong> – The number of physical cores to run the model on.
Pass None or 0 to run on the max number of cores
in one socket for the current machine, default None</p></li>
<li><p><strong>num_sockets</strong> – The number of physical sockets to run the model on.
Pass None or 0 to run on the max number of sockets for the
current machine, default None</p></li>
<li><p><strong>scheduler</strong> – The kind of scheduler to execute with. Pass None for the default.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="deepsparse.engine.Engine.batch_size">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">batch_size</span></code><a class="headerlink" href="#deepsparse.engine.Engine.batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The batch size of the inputs to be used with the model</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Engine.benchmark">
<code class="sig-name descname"><span class="pre">benchmark</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_warmup_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#deepsparse.benchmark.BenchmarkResults" title="deepsparse.benchmark.BenchmarkResults"><span class="pre">deepsparse.benchmark.BenchmarkResults</span></a><a class="reference internal" href="../_modules/deepsparse/engine.html#Engine.benchmark"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.Engine.benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>A convenience function for quickly benchmarking the instantiated model
on a given input in the DeepSparse Engine.
After executing, will return the summary statistics for benchmarking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inp</strong> – The list of inputs to pass to the engine for benchmarking.
The expected order is the inputs order as defined in the ONNX graph.</p></li>
<li><p><strong>num_iterations</strong> – The number of iterations to run benchmarking for.
Default is 20</p></li>
<li><p><strong>num_warmup_iterations</strong> – T number of iterations to warm up engine before
benchmarking. These executions will not be counted in the benchmark
results that are returned. Useful and recommended to bring
the system to a steady state. Default is 5</p></li>
<li><p><strong>include_inputs</strong> – If True, inputs from forward passes during benchmarking
will be added to the results. Default is False</p></li>
<li><p><strong>include_outputs</strong> – If True, outputs from forward passes during benchmarking
will be added to the results. Default is False</p></li>
<li><p><strong>show_progress</strong> – If True, will display a progress bar. Default is False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the results of benchmarking</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Engine.benchmark_loader">
<code class="sig-name descname"><span class="pre">benchmark_loader</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loader</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_warmup_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#deepsparse.benchmark.BenchmarkResults" title="deepsparse.benchmark.BenchmarkResults"><span class="pre">deepsparse.benchmark.BenchmarkResults</span></a><a class="reference internal" href="../_modules/deepsparse/engine.html#Engine.benchmark_loader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.Engine.benchmark_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>A convenience function for quickly benchmarking the instantiated model
on a give DataLoader in the DeepSparse Engine.
After executing, will return the summary statistics for benchmarking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loader</strong> – An iterator of inputs to pass to the engine for benchmarking.
The expected order of each input is as defined in the ONNX graph.</p></li>
<li><p><strong>num_iterations</strong> – The number of iterations to run benchmarking for.
Default is 20</p></li>
<li><p><strong>num_warmup_iterations</strong> – T number of iterations to warm up engine before
benchmarking. These executions will not be counted in the benchmark
results that are returned. Useful and recommended to bring
the system to a steady state. Default is 5</p></li>
<li><p><strong>include_inputs</strong> – If True, inputs from forward passes during benchmarking
will be added to the results. Default is False</p></li>
<li><p><strong>include_outputs</strong> – If True, outputs from forward passes during benchmarking
will be added to the results. Default is False</p></li>
<li><p><strong>show_progress</strong> – If True, will display a progress bar. Default is False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the results of benchmarking</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Engine.cpu_avx_type">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cpu_avx_type</span></code><a class="headerlink" href="#deepsparse.engine.Engine.cpu_avx_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The detected cpu avx type that neural magic is running with.
One of {avx2, avx512}. AVX instructions give significant execution speedup
with avx512 &gt; avx2.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Engine.cpu_vnni">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cpu_vnni</span></code><a class="headerlink" href="#deepsparse.engine.Engine.cpu_vnni" title="Permalink to this definition">¶</a></dt>
<dd><p>True if vnni support was detected on the cpu, False otherwise.
VNNI gives performance benefits for quantized networks.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Engine.mapped_run">
<code class="sig-name descname"><span class="pre">mapped_run</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_inp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/engine.html#Engine.mapped_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.Engine.mapped_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run given inputs through the model for inference.
Returns the result as a dictionary of numpy arrays corresponding to
the output names of the model as defined in the ONNX graph.</p>
<p>Note 1: this function can add some a performance hit in certain cases.
If using, please validate that you do not incur a performance hit
by comparing with the regular run func</p>
<p>See &#64;run for more details on specific setup for the inputs.</p>
<div class="line-block">
<div class="line">Example:</div>
<div class="line-block">
<div class="line">engine = Engine(“path/to/onnx”, batch_size=1)</div>
<div class="line">inp = [numpy.random.rand(1, 3, 224, 224).astype(numpy.float32)]</div>
<div class="line">out = engine.mapped_run(inp)</div>
<div class="line">assert isinstance(out, Dict)</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inp</strong> – The list of inputs to pass to the engine for inference.
The expected order is the inputs order as defined in the ONNX graph.</p></li>
<li><p><strong>val_inp</strong> – Validate the input to the model to ensure numpy array inputs
are setup correctly for the DeepSparse Engine</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The dictionary of outputs from the model after executing
over the inputs</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Engine.model_path">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">model_path</span></code><a class="headerlink" href="#deepsparse.engine.Engine.model_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The local path to the model file the current instance was compiled from</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Engine.num_cores">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">num_cores</span></code><a class="headerlink" href="#deepsparse.engine.Engine.num_cores" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of physical cores the current instance is running on</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Engine.num_sockets">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">num_sockets</span></code><a class="headerlink" href="#deepsparse.engine.Engine.num_sockets" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of sockets the engine is compiled to run on</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>return</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Engine.run">
<code class="sig-name descname"><span class="pre">run</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_inp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/engine.html#Engine.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.Engine.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run given inputs through the model for inference.
Returns the result as a list of numpy arrays corresponding to
the outputs of the model as defined in the ONNX graph.</p>
<p>Note 1: the input dimensions must match what is defined in the ONNX graph.
To avoid extra time in memory shuffles, the best use case
is to format both the onnx and the input into channels first format;
ex: [batch, height, width, channels] =&gt; [batch, channels, height, width]</p>
<p>Note 2: the input type for the numpy arrays must match
what is defined in the ONNX graph.
Generally float32 is most common,
but int8 and int16 are used for certain layer and input types
such as with quantized models.</p>
<p>Note 3: the numpy arrays must be contiguous in memory,
use numpy.ascontiguousarray(array) to fix if not.</p>
<div class="line-block">
<div class="line">Example:</div>
<div class="line-block">
<div class="line">engine = Engine(“path/to/onnx”, batch_size=1, num_cores=None)</div>
<div class="line">inp = [numpy.random.rand(1, 3, 224, 224).astype(numpy.float32)]</div>
<div class="line">out = engine.run(inp)</div>
<div class="line">assert isinstance(out, List)</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inp</strong> – The list of inputs to pass to the engine for inference.
The expected order is the inputs order as defined in the ONNX graph.</p></li>
<li><p><strong>val_inp</strong> – Validate the input to the model to ensure numpy array inputs
are setup correctly for the DeepSparse Engine</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of outputs from the model after executing over the inputs</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Engine.timed_run">
<code class="sig-name descname"><span class="pre">timed_run</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_inp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/deepsparse/engine.html#Engine.timed_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.Engine.timed_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method for timing a model inference run.
Returns the result as a tuple containing (the outputs from &#64;run, time take)</p>
<p>See &#64;run for more details.</p>
<div class="line-block">
<div class="line">Example:</div>
<div class="line-block">
<div class="line">engine = Engine(“path/to/onnx”, batch_size=1, num_cores=None)</div>
<div class="line">inp = [numpy.random.rand(1, 3, 224, 224).astype(numpy.float32)]</div>
<div class="line">out, time = engine.timed_run(inp)</div>
<div class="line">assert isinstance(out, List)</div>
<div class="line">assert isinstance(time, float)</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inp</strong> – The list of inputs to pass to the engine for inference.
The expected order is the inputs order as defined in the ONNX graph.</p></li>
<li><p><strong>val_inp</strong> – Validate the input to the model to ensure numpy array inputs
are setup correctly for the DeepSparse Engine</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of outputs from the model after executing over the inputs</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepsparse.engine.Scheduler">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">deepsparse.engine.</span></code><code class="sig-name descname"><span class="pre">Scheduler</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/engine.html#Scheduler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.Scheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>Scheduler kinds to determine Engine execution strategy.
For most synchronous cases, the default single_stream is recommended.
For running a model server or parallel inferences, try multi_stream for
maximum utilization of hardware.</p>
<ul class="simple">
<li><p>default: maps to single_stream</p></li>
<li><p>single_stream: requests from separate threads execute serially</p></li>
<li><p>multi_stream: requests from separate threads execute in parallel</p></li>
</ul>
<dl class="py attribute">
<dt id="deepsparse.engine.Scheduler.default">
<code class="sig-name descname"><span class="pre">default</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'default'</span></em><a class="headerlink" href="#deepsparse.engine.Scheduler.default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepsparse.engine.Scheduler.from_str">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">from_str</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/engine.html#Scheduler.from_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.Scheduler.from_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="deepsparse.engine.Scheduler.multi_stream">
<code class="sig-name descname"><span class="pre">multi_stream</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'multi_stream'</span></em><a class="headerlink" href="#deepsparse.engine.Scheduler.multi_stream" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="deepsparse.engine.Scheduler.single_stream">
<code class="sig-name descname"><span class="pre">single_stream</span></code><em class="property"> <span class="pre">=</span> <span class="pre">'single_stream'</span></em><a class="headerlink" href="#deepsparse.engine.Scheduler.single_stream" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="deepsparse.engine.analyze_model">
<code class="sig-prename descclassname"><span class="pre">deepsparse.engine.</span></code><code class="sig-name descname"><span class="pre">analyze_model</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">sparsezoo.objects.model.Model</span><span class="p"><span class="pre">,</span> </span><span class="pre">sparsezoo.objects.file.File</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cores</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_warmup_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimization_level</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imposed_as</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imposed_ks</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sockets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#deepsparse.engine.Scheduler" title="deepsparse.engine.Scheduler"><span class="pre">deepsparse.engine.Scheduler</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="reference internal" href="../_modules/deepsparse/engine.html#analyze_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.analyze_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to analyze a model’s performance in the DeepSparse Engine.
The model must be defined in an ONNX graph and stored in a local file.
Gives defaults of batch_size == 1 and num_cores == None
(will use all physical cores available on a single socket).</p>
<p>Note 1: Analysis is currently only supported on a single socket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – Either a path to the model’s onnx file, a SparseZoo model stub
prefixed by ‘zoo:’, a SparseZoo Model object, or a SparseZoo ONNX File
object that defines the neural network graph definition to analyze</p></li>
<li><p><strong>inp</strong> – The list of inputs to pass to the engine for analyzing inference.
The expected order is the inputs order as defined in the ONNX graph.</p></li>
<li><p><strong>batch_size</strong> – The batch size of the inputs to be used with the model</p></li>
<li><p><strong>num_cores</strong> – The number of physical cores to run the model on.
Pass None or 0 to run on the max number of cores
in one socket for the current machine, default None</p></li>
<li><p><strong>num_iterations</strong> – The number of times to repeat execution of the model
while analyzing, default is 20</p></li>
<li><p><strong>num_warmup_iterations</strong> – The number of times to repeat execution of the model
before analyzing, default is 5</p></li>
<li><p><strong>optimization_level</strong> – The amount of graph optimizations to perform.
The current choices are either 0 (minimal) or 1 (all), default is 1</p></li>
<li><p><strong>imposed_as</strong> – Imposed activation sparsity, defaults to None.
Will force the activation sparsity from all ReLu layers in the graph
to match this desired sparsity level (percentage of 0’s in the tensor).
Beneficial for seeing how AS affects the performance of the model.</p></li>
<li><p><strong>imposed_ks</strong> – Imposed kernel sparsity, defaults to None.
Will force all prunable layers in the graph to have weights with
this desired sparsity level (percentage of 0’s in the tensor).
Beneficial for seeing how pruning affects the performance of the model.</p></li>
<li><p><strong>num_sockets</strong> – The number of physical sockets to run the model on.
Pass None or 0 to run on the max number of sockets for the
current machine, default None</p></li>
<li><p><strong>scheduler</strong> – The kind of scheduler to execute with. Pass None for the default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the analysis structure containing the performance details of each layer</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepsparse.engine.benchmark_model">
<code class="sig-prename descclassname"><span class="pre">deepsparse.engine.</span></code><code class="sig-name descname"><span class="pre">benchmark_model</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">sparsezoo.objects.model.Model</span><span class="p"><span class="pre">,</span> </span><span class="pre">sparsezoo.objects.file.File</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cores</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_warmup_iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_inputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_outputs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sockets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#deepsparse.engine.Scheduler" title="deepsparse.engine.Scheduler"><span class="pre">deepsparse.engine.Scheduler</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#deepsparse.benchmark.BenchmarkResults" title="deepsparse.benchmark.BenchmarkResults"><span class="pre">deepsparse.benchmark.BenchmarkResults</span></a><a class="reference internal" href="../_modules/deepsparse/engine.html#benchmark_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.benchmark_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to benchmark a model in the DeepSparse Engine
from an ONNX file for inference.
Gives defaults of batch_size == 1 and num_cores == None
(will use all physical cores available on a single socket).</p>
<p>Note 1: Benchmarking is currently only supported on a single socket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – Either a path to the model’s onnx file, a SparseZoo model stub
prefixed by ‘zoo:’, a SparseZoo Model object, or a SparseZoo ONNX File
object that defines the neural network</p></li>
<li><p><strong>batch_size</strong> – The batch size of the inputs to be used with the model</p></li>
<li><p><strong>num_cores</strong> – The number of physical cores to run the model on.
Pass None or 0 to run on the max number of cores
in one socket for the current machine, default None</p></li>
<li><p><strong>inp</strong> – The list of inputs to pass to the engine for benchmarking.
The expected order is the inputs order as defined in the ONNX graph.</p></li>
<li><p><strong>num_iterations</strong> – The number of iterations to run benchmarking for.
Default is 20</p></li>
<li><p><strong>num_warmup_iterations</strong> – T number of iterations to warm up engine before
benchmarking. These executions will not be counted in the benchmark
results that are returned. Useful and recommended to bring
the system to a steady state. Default is 5</p></li>
<li><p><strong>include_inputs</strong> – If True, inputs from forward passes during benchmarking
will be added to the results. Default is False</p></li>
<li><p><strong>include_outputs</strong> – If True, outputs from forward passes during benchmarking
will be added to the results. Default is False</p></li>
<li><p><strong>show_progress</strong> – If True, will display a progress bar. Default is False</p></li>
<li><p><strong>num_sockets</strong> – The number of physical sockets to run the model on.
Pass None or 0 to run on the max number of sockets for the
current machine, default None</p></li>
<li><p><strong>scheduler</strong> – The kind of scheduler to execute with. Pass None for the default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the results of benchmarking</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepsparse.engine.compile_model">
<code class="sig-prename descclassname"><span class="pre">deepsparse.engine.</span></code><code class="sig-name descname"><span class="pre">compile_model</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">sparsezoo.objects.model.Model</span><span class="p"><span class="pre">,</span> </span><span class="pre">sparsezoo.objects.file.File</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cores</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sockets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#deepsparse.engine.Scheduler" title="deepsparse.engine.Scheduler"><span class="pre">deepsparse.engine.Scheduler</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#deepsparse.engine.Engine" title="deepsparse.engine.Engine"><span class="pre">deepsparse.engine.Engine</span></a><a class="reference internal" href="../_modules/deepsparse/engine.html#compile_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.engine.compile_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to compile a model in the DeepSparse Engine
from an ONNX file for inference.
Gives defaults of batch_size == 1, num_cores == None and num_sockets = None
(will use all physical cores available on all available sockets).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – Either a path to the model’s onnx file, a SparseZoo model stub
prefixed by ‘zoo:’, a SparseZoo Model object, or a SparseZoo ONNX File
object that defines the neural network</p></li>
<li><p><strong>batch_size</strong> – The batch size of the inputs to be used with the model</p></li>
<li><p><strong>num_cores</strong> – The number of physical cores to run the model on.
Pass None or 0 to run on the max number of cores
in one socket for the current machine, default None</p></li>
<li><p><strong>num_sockets</strong> – The number of physical sockets to run the model on.
Pass None or 0 to run on the max number of sockets for the
current machine, default None</p></li>
<li><p><strong>scheduler</strong> – The kind of scheduler to execute with. Pass None for the default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The created Engine after compiling the model</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="deepsparse-generated-version-module">
<h2>deepsparse.generated-version module<a class="headerlink" href="#deepsparse-generated-version-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="id1">
<h2>deepsparse.generated_version module<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-deepsparse.lib">
<span id="deepsparse-lib-module"></span><h2>deepsparse.lib module<a class="headerlink" href="#module-deepsparse.lib" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="deepsparse.lib.init_deepsparse_lib">
<code class="sig-prename descclassname"><span class="pre">deepsparse.lib.</span></code><code class="sig-name descname"><span class="pre">init_deepsparse_lib</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepsparse/lib.html#init_deepsparse_lib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deepsparse.lib.init_deepsparse_lib" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-deepsparse.version">
<span id="deepsparse-version-module"></span><h2>deepsparse.version module<a class="headerlink" href="#module-deepsparse.version" title="Permalink to this headline">¶</a></h2>
<p>Functionality for storing and setting the version info for DeepSparse.  If
a file named ‘generated_version.py’ exists, read version info from there, otherwise
fall back to defaults.</p>
</div>
<div class="section" id="module-deepsparse">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-deepsparse" title="Permalink to this headline">¶</a></h2>
<p>The DeepSparse package used to achieve GPU class performance
for Neural Networks on commodity CPUs.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="deepsparse.utils.html" class="btn btn-neutral float-right" title="deepsparse.utils package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../debugging-optimizing/example-log.html" class="btn btn-neutral float-left" title="Example Log, Verbose Level = diagnose" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021 - present / Neuralmagic, Inc. All Rights Reserved. Licensed under the Neural Magic Engine License and Apache License, Version 2.0 as noted..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: v0.3.0
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="deepsparse.html">v0.3.0</a></dd>
      <dd><a href="../../v0.3.1/api/deepsparse.html">v0.3.1</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../main/api/deepsparse.html">main</a></dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-128364174-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>